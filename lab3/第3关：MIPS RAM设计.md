### 第3关：MIPS RAM设计

700

- 任务要求
- 评论253

- [实验目的](https://www.educoder.net/tasks/uawf9o48j7in#实验目的)
- [视频讲解](https://www.educoder.net/tasks/uawf9o48j7in#视频讲解)
- [实验内容](https://www.educoder.net/tasks/uawf9o48j7in#实验内容)
- [电路框架](https://www.educoder.net/tasks/uawf9o48j7in#电路框架)
- [电路引脚](https://www.educoder.net/tasks/uawf9o48j7in#电路引脚)
- [常见故障](https://www.educoder.net/tasks/uawf9o48j7in#常见故障)
- [电路测试](https://www.educoder.net/tasks/uawf9o48j7in#电路测试)

------

#### 实验目的

学生理解主存地址基本概念，理解存储位扩展基本思想，并能利用相关原理构建能同时支持字节、半字、字访问的存储子系统。  

#### 视频讲解



#### 实验内容

Logisim 中 RAM 组件只能提供固定的地址位宽，数据输出也只能提供固定的数据位宽，访问时无法同时支持字节/半字/字三种访问模式，实验要求利用4个8位的 RAM 组件进行扩展，设计完成既能按照8位、也能按16位、也能按照32位进行读写访问的32位存储器，最终存储器引脚定义如下图。

#### 电路框架

storage.circ

![img](https://data.educoder.net/api/attachments/525181)

![img](https://data.educoder.net/api/attachments/525182)

#### 电路引脚

| 信号 | 输入/输出 | 位宽 | 功能描述                                                     |
| ---- | --------- | ---- | ------------------------------------------------------------ |
| Addr | 输入      | 12   | 字节地址输入（字访问时忽略最低两位，半字访问时忽略最低位，倒数第二位片选，字节访问时，低两位进行片选） |
| Din  | 输入      | 32   | 写入数据 （不同访问模式有效数据均存放在最低位，高位忽略      |
| Mode | 输入      | 2    | 访问模式控制位（00 表示字访问，01 表示 1 字节访问，10 表示 2 字节访问） |
| WE   | 输入      | 1    | 写使能，1 表示写入，0 表示读出                               |
| Dout | 输出      | 32   | 读出数据 （不同访问模式有效数据均存放在最低位，高位补零）；  |

![img](https://data.educoder.net/api/attachments/1044118) 最终实现的地址空间如上图所示，字地址，半字地址，字节地址对应的存储空间是共享的。

#### 常见故障

![img](https://data.educoder.net/api/attachments/542024) 电路输出中出现了大写的 E，表示对应位短路了，建议用新版 Logsim 中的自动测试电路单步调试。

#### 电路测试

完成存储扩展设计后可以在自动测试电路中进行测试，电路通过会显示 Pass ，未能通过为停在出错位置，并显示 Fail ，如下图所示：

  ![img](https://data.educoder.net/api/attachments/525187)

确认实验完成正确后可利用文本编辑工具打开 storage.circ ，将所有文字信息复制粘贴到 Educoder 平台的 storage.circ 文件中，再点击评测按钮即可进行本关测试，平台会对你设计的电路进行自动测试，为方便测试，请勿修改子电路封装，本关测试用例如下:

```
CNT     Addr    Din          WE    Mode  Dout000     000     00000203     1     0     00000000001     000     00000203     1     0     00000203002     004     00000607     1     0     00000000003     004     00000607     1     0     00000607004     008     00000a0b     1     0     00000000005     008     00000a0b     1     0     00000a0b006     00c     00000e0f     1     0     00000000007     00c     00000e0f     1     0     00000e0f008     010     00000000     1     0     00000000009     010     00000000     1     0     0000000000a     014     00000000     1     0     0000000000b     014     00000000     1     0     0000000000c     018     00000000     1     0     0000000000d     018     00000000     1     0     0000000000e     01c     00000000     1     0     0000000000f     01c     00000000     1     0     00000000010     020     20212223     1     0     00000000011     020     20212223     1     0     20212223012     024     24252627     1     0     00000000013     024     24252627     1     0     24252627014     028     28292a2b     1     0     00000000015     028     28292a2b     1     0     28292a2b016     02c     2c2d2e2f     1     0     00000000017     02c     2c2d2e2f     1     0     2c2d2e2f018     030     30310000     1     0     00000000019     030     30310000     1     0     3031000001a     034     34350000     1     0     0000000001b     034     34350000     1     0     3435000001c     038     38390000     1     0     0000000001d     038     38390000     1     0     3839000001e     03c     3c3d0000     1     0     0000000001f     03c     3c3d0000     1     0     3c3d0000020     002     00000001     1     2     00000000021     002     00000001     1     2     00000001022     006     00000405     1     2     00000000023     006     00000405     1     2     00000405024     00a     00000809     1     2     00000000025     00a     00000809     1     2     00000809026     00e     00000c0d     1     2     00000000027     00e     00000c0d     1     2     00000c0d028     031     00003233     1     2     00000000029     031     00003233     1     2     0000323302a     035     00003637     1     2     0000000002b     035     00003637     1     2     0000363702c     039     00003a3b     1     2     0000000002d     039     00003a3b     1     2     00003a3b02e     03d     00003e3f     1     2     0000000002f     03d     00003e3f     1     2     00003e3f030     013     00000010     1     1     00000000031     013     00000010     1     1     00000010032     017     00000014     1     1     00000000033     017     00000014     1     1     00000014034     01b     00000018     1     1     00000000035     01b     00000018     1     1     00000018036     01f     0000001c     1     1     00000000037     01f     0000001c     1     1     0000001c038     012     00000011     1     1     00000000039     012     00000011     1     1     0000001103a     016     00000015     1     1     0000000003b     016     00000015     1     1     0000001503c     01a     00000019     1     1     0000000003d     01a     00000019     1     1     0000001903e     01e     0000001d     1     1     0000000003f     01e     0000001d     1     1     0000001d040     011     00000012     1     1     00000000041     011     00000012     1     1     00000012042     015     00000016     1     1     00000000043     015     00000016     1     1     00000016044     019     0000001a     1     1     00000000045     019     0000001a     1     1     0000001a046     01d     0000001e     1     1     00000000047     01d     0000001e     1     1     0000001e048     010     00000013     1     1     00000000049     010     00000013     1     1     0000001304a     014     00000017     1     1     0000000004b     014     00000017     1     1     0000001704c     018     0000001b     1     1     0000000004d     018     0000001b     1     1     0000001b04e     01c     0000001f     1     1     0000000004f     01c     0000001f     1     1     0000001f050     000     00000000     0     0     00010203051     000     00000000     0     0     00010203052     004     00000000     0     0     04050607053     004     00000000     0     0     04050607054     008     00000000     0     0     08090a0b055     008     00000000     0     0     08090a0b056     00c     00000000     0     0     0c0d0e0f057     00c     00000000     0     0     0c0d0e0f058     010     00000000     0     0     10111213059     010     00000000     0     0     1011121305a     014     00000000     0     0     1415161705b     014     00000000     0     0     1415161705c     018     00000000     0     0     18191a1b05d     018     00000000     0     0     18191a1b05e     01c     00000000     0     0     1c1d1e1f05f     01c     00000000     0     0     1c1d1e1f060     020     00000000     0     0     20212223061     020     00000000     0     0     20212223062     024     00000000     0     0     24252627063     024     00000000     0     0     24252627064     028     00000000     0     0     28292a2b065     028     00000000     0     0     28292a2b066     02c     00000000     0     0     2c2d2e2f067     02c     00000000     0     0     2c2d2e2f068     030     00000000     0     0     30313233069     030     00000000     0     0     3031323306a     034     00000000     0     0     3435363706b     034     00000000     0     0     3435363706c     038     00000000     0     0     38393a3b06d     038     00000000     0     0     38393a3b06e     03c     00000000     0     0     3c3d3e3f06f     03c     00000000     0     0     3c3d3e3f070     000     00000000     0     2     00000203071     000     00000000     0     2     00000203072     002     00000000     0     2     00000001073     002     00000000     0     2     00000001074     004     00000000     0     2     00000607075     004     00000000     0     2     00000607076     006     00000000     0     2     00000405077     006     00000000     0     2     00000405078     008     00000000     0     2     00000a0b079     008     00000000     0     2     00000a0b07a     00a     00000000     0     2     0000080907b     00a     00000000     0     2     0000080907c     00c     00000000     0     2     00000e0f07d     00c     00000000     0     2     00000e0f07e     00e     00000000     0     2     00000c0d07f     00e     00000000     0     2     00000c0d080     010     00000000     0     2     00001213081     010     00000000     0     2     00001213082     012     00000000     0     2     00001011083     012     00000000     0     2     00001011084     014     00000000     0     2     00001617085     014     00000000     0     2     00001617086     016     00000000     0     2     00001415087     016     00000000     0     2     00001415088     018     00000000     0     2     00001a1b089     018     00000000     0     2     00001a1b08a     01a     00000000     0     2     0000181908b     01a     00000000     0     2     0000181908c     01c     00000000     0     2     00001e1f08d     01c     00000000     0     2     00001e1f08e     01e     00000000     0     2     00001c1d08f     01e     00000000     0     2     00001c1d090     020     00000000     0     2     00002223091     020     00000000     0     2     00002223092     022     00000000     0     2     00002021093     022     00000000     0     2     00002021094     024     00000000     0     2     00002627095     024     00000000     0     2     00002627096     026     00000000     0     2     00002425097     026     00000000     0     2     00002425098     028     00000000     0     2     00002a2b099     028     00000000     0     2     00002a2b09a     02a     00000000     0     2     0000282909b     02a     00000000     0     2     0000282909c     02c     00000000     0     2     00002e2f09d     02c     00000000     0     2     00002e2f09e     02e     00000000     0     2     00002c2d09f     02e     00000000     0     2     00002c2d0a0     030     00000000     0     2     000032330a1     030     00000000     0     2     000032330a2     032     00000000     0     2     000030310a3     032     00000000     0     2     000030310a4     034     00000000     0     2     000036370a5     034     00000000     0     2     000036370a6     036     00000000     0     2     000034350a7     036     00000000     0     2     000034350a8     038     00000000     0     2     00003a3b0a9     038     00000000     0     2     00003a3b0aa     03a     00000000     0     2     000038390ab     03a     00000000     0     2     000038390ac     03c     00000000     0     2     00003e3f0ad     03c     00000000     0     2     00003e3f0ae     03e     00000000     0     2     00003c3d0af     03e     00000000     0     2     00003c3d0b0     000     00000000     0     1     000000030b1     000     00000000     0     1     000000030b2     001     00000000     0     1     000000020b3     001     00000000     0     1     000000020b4     002     00000000     0     1     000000010b5     002     00000000     0     1     000000010b6     003     00000000     0     1     000000000b7     003     00000000     0     1     000000000b8     004     00000000     0     1     000000070b9     004     00000000     0     1     000000070ba     005     00000000     0     1     000000060bb     005     00000000     0     1     000000060bc     006     00000000     0     1     000000050bd     006     00000000     0     1     000000050be     007     00000000     0     1     000000040bf     007     00000000     0     1     000000040c0     008     00000000     0     1     0000000b0c1     008     00000000     0     1     0000000b0c2     009     00000000     0     1     0000000a0c3     009     00000000     0     1     0000000a0c4     00a     00000000     0     1     000000090c5     00a     00000000     0     1     000000090c6     00b     00000000     0     1     000000080c7     00b     00000000     0     1     000000080c8     00c     00000000     0     1     0000000f0c9     00c     00000000     0     1     0000000f0ca     00d     00000000     0     1     0000000e0cb     00d     00000000     0     1     0000000e0cc     00e     00000000     0     1     0000000d0cd     00e     00000000     0     1     0000000d0ce     00f     00000000     0     1     0000000c0cf     00f     00000000     0     1     0000000c0d0     010     00000000     0     1     000000130d1     010     00000000     0     1     000000130d2     011     00000000     0     1     000000120d3     011     00000000     0     1     000000120d4     012     00000000     0     1     000000110d5     012     00000000     0     1     000000110d6     013     00000000     0     1     000000100d7     013     00000000     0     1     000000100d8     014     00000000     0     1     000000170d9     014     00000000     0     1     000000170da     015     00000000     0     1     000000160db     015     00000000     0     1     000000160dc     016     00000000     0     1     000000150dd     016     00000000     0     1     000000150de     017     00000000     0     1     000000140df     017     00000000     0     1     000000140e0     018     00000000     0     1     0000001b0e1     018     00000000     0     1     0000001b0e2     019     00000000     0     1     0000001a0e3     019     00000000     0     1     0000001a0e4     01a     00000000     0     1     000000190e5     01a     00000000     0     1     000000190e6     01b     00000000     0     1     000000180e7     01b     00000000     0     1     000000180e8     01c     00000000     0     1     0000001f0e9     01c     00000000     0     1     0000001f0ea     01d     00000000     0     1     0000001e0eb     01d     00000000     0     1     0000001e0ec     01e     00000000     0     1     0000001d0ed     01e     00000000     0     1     0000001d0ee     01f     00000000     0     1     0000001c0ef     01f     00000000     0     1     0000001c0f0     020     00000000     0     1     000000230f1     020     00000000     0     1     000000230f2     021     00000000     0     1     000000220f3     021     00000000     0     1     000000220f4     022     00000000     0     1     000000210f5     022     00000000     0     1     000000210f6     023     00000000     0     1     000000200f7     023     00000000     0     1     000000200f8     024     00000000     0     1     000000270f9     024     00000000     0     1     000000270fa     025     00000000     0     1     000000260fb     025     00000000     0     1     000000260fc     026     00000000     0     1     000000250fd     026     00000000     0     1     000000250fe     027     00000000     0     1     000000240ff     027     00000000     0     1     00000024100     028     00000000     0     1     0000002b101     028     00000000     0     1     0000002b102     029     00000000     0     1     0000002a103     029     00000000     0     1     0000002a104     02a     00000000     0     1     00000029105     02a     00000000     0     1     00000029106     02b     00000000     0     1     00000028107     02b     00000000     0     1     00000028108     02c     00000000     0     1     0000002f109     02c     00000000     0     1     0000002f10a     02d     00000000     0     1     0000002e10b     02d     00000000     0     1     0000002e10c     02e     00000000     0     1     0000002d10d     02e     00000000     0     1     0000002d10e     02f     00000000     0     1     0000002c10f     02f     00000000     0     1     0000002c110     030     00000000     0     1     00000033111     030     00000000     0     1     00000033112     031     00000000     0     1     00000032113     031     00000000     0     1     00000032114     032     00000000     0     1     00000031115     032     00000000     0     1     00000031116     033     00000000     0     1     00000030117     033     00000000     0     1     00000030118     034     00000000     0     1     00000037119     034     00000000     0     1     0000003711a     035     00000000     0     1     0000003611b     035     00000000     0     1     0000003611c     036     00000000     0     1     0000003511d     036     00000000     0     1     0000003511e     037     00000000     0     1     0000003411f     037     00000000     0     1     00000034120     038     00000000     0     1     0000003b121     038     00000000     0     1     0000003b122     039     00000000     0     1     0000003a123     039     00000000     0     1     0000003a124     03a     00000000     0     1     00000039125     03a     00000000     0     1     00000039126     03b     00000000     0     1     00000038127     03b     00000000     0     1     00000038128     03c     00000000     0     1     0000003f129     03c     00000000     0     1     0000003f12a     03d     00000000     0     1     0000003e12b     03d     00000000     0     1     0000003e12c     03e     00000000     0     1     0000003d12d     03e     00000000     0     1     0000003d12e     03f     00000000     0     1     0000003c12f     03f     00000000     0     1     0000003c130     03f     00000000     0     1     0000003c
```

------

开始你的闯关任务吧,升级打怪中....